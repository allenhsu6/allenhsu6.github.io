<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Trend | Xu'Log</title><meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://allenhsu6.github.io/tags/trend/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://allenhsu6.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://allenhsu6.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://allenhsu6.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://allenhsu6.github.io/apple-touch-icon.png><link rel=mask-icon href=https://allenhsu6.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://allenhsu6.github.io/tags/trend/index.xml title=rss><link rel=alternate hreflang=en href=https://allenhsu6.github.io/tags/trend/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["[[","]]"]],processEscapes:!0,processEnvironments:!0,skipTags:["script","noscript","style","textarea","pre"],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}}),MathJax.Hub.Queue(function(){var e,t=MathJax.Hub.getAllJax();for(e=0;e<t.length;e+=1)t[e].SourceElement().parentNode.className+=" has-jax"})</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script src=https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js></script><meta property="og:url" content="https://allenhsu6.github.io/tags/trend/"><meta property="og:site_name" content="Xu'Log"><meta property="og:title" content="Trend"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Trend"><meta name=twitter:description content></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://allenhsu6.github.io/ accesskey=h title="Xu'Log (Alt + H)">Xu'Log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://allenhsu6.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://allenhsu6.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://allenhsu6.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://allenhsu6.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://allenhsu6.github.io/viz-tools/ title="Viz Tools"><span>Viz Tools</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://allenhsu6.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://allenhsu6.github.io/tags/>Tags</a></div><h1>Trend</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>策略解析：TurtleSignalStrategy (海龟交易法则)</h2></header><div class=entry-content><p>源码文件：vnpy_ctastrategy.strategies.turtle_signal_strategy
1. 策略概述 TurtleSignalStrategy 是大名鼎鼎的 海龟交易法则 (Turtle Trading Rules) 的完整复现。 它不仅仅是一个简单的突破策略，而是一套完整的资金管理系统，包含了：
入场：唐奇安通道 (Donchian Channel) 突破。 仓位管理：基于 ATR (N值) 的加仓 (Pyramiding)。 止损：基于 ATR 的移动止损。 离场：反向通道突破。 基类：CtaTemplate 核心指标：Donchian Channel, ATR 复杂度：高（涉及分批加仓逻辑） 2. 核心参数 参数名 默认值 含义 entry_window 20 入场通道周期 (20日高点) exit_window 10 离场通道周期 (10日低点) atr_window 20 ATR 计算周期 3. 策略逻辑详解 3.1 信号计算 策略使用 am.donchian 计算唐奇安通道，使用 am.atr 计算波动率 N 值。
1 2 3 self.entry_up, self.entry_down = self.am.donchian(self.entry_window) # 20日 self.exit_up, self.exit_down = self.am.donchian(self.exit_window) # 10日 self.atr_value = self.am.atr(self.atr_window) 3.2 初始入场 当空仓时，在 20 日高点挂买入停止单，在 20 日低点挂卖出停止单。
...</p></div><footer class=entry-footer><span title='2025-05-09 10:00:00 +0800 +0800'>May 9, 2025</span>&nbsp;·&nbsp;<span>2 min</span></footer><a class=entry-link aria-label="post link to 策略解析：TurtleSignalStrategy (海龟交易法则)" href=https://allenhsu6.github.io/posts/strategies/turtle_signal_strategy/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://allenhsu6.github.io/>Xu'Log</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>